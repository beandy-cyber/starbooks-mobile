{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/beandy/Downloads/starbook/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import Input from'../Input';import styled from'styled-components';import{useState}from'react';import{getLivros}from'../../servicos/livros';import{useEffect}from'react';import{postFavorito}from'../../servicos/favoritos';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PesquisaContainer=styled.section(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    background-image: linear-gradient(90deg, #002F52 35%, #326589 165%);\\n    color: #FFF;\\n    text-align: center;\\n    padding: 85px 0;\\n    height: 470px;\\n    width: 100%;\\n\"])));const Titulo=styled.h2(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    color: #FFF;\\n    font-size: 36px;\\n    text-align: center;\\n    width: 100%;\\n\"])));const Subtitulo=styled.h3(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    font-size: 16px;\\n    font-weight: 500;\\n    margin-bottom: 40px;\\n\"])));const Resultado=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin-bottom: 20px;\\n    cursor: pointer;\\n\\n    p {\\n        width: 200px;\\n    }\\n\\n    img {\\n        width: 100px;\\n    }\\n\\n    &:hover {\\n        border: 1px solid white;\\n    }\\n\"])));function Pesquisa(){const[livrosPesquisados,setLivrosPesquisados]=useState([]);const[livros,setLivros]=useState([]);useEffect(()=>{fetchLivros();},[]);async function fetchLivros(){const livrosDaAPI=await getLivros();setLivros(livrosDaAPI);}async function insereFavorito(id){await postFavorito(id);alert(\"O livro de id: \".concat(id,\" foi inserido com sucesso\"));}return/*#__PURE__*/_jsxs(PesquisaContainer,{children:[/*#__PURE__*/_jsx(Titulo,{children:\"J\\xE1 sabe por onde come\\xE7ar?\"}),/*#__PURE__*/_jsx(Subtitulo,{children:\"Encontre seu livro em nossa estante.\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Escreva sua pr\\xF3xima leitura\",onBlur:evento=>{const textoDigitado=evento.target.value;const resultadoPesquisa=livros.filter(livro=>livro.nome.includes(textoDigitado));setLivrosPesquisados(resultadoPesquisa);}}),livrosPesquisados.map(livro=>/*#__PURE__*/_jsxs(Resultado,{onClick:()=>insereFavorito(livro.id),children:[/*#__PURE__*/_jsx(\"img\",{src:livro.src,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:livro.nome})]}))]});}export default Pesquisa;","map":{"version":3,"names":["Input","styled","useState","getLivros","useEffect","postFavorito","jsx","_jsx","jsxs","_jsxs","PesquisaContainer","section","_templateObject","_taggedTemplateLiteral","Titulo","h2","_templateObject2","Subtitulo","h3","_templateObject3","Resultado","div","_templateObject4","Pesquisa","livrosPesquisados","setLivrosPesquisados","livros","setLivros","fetchLivros","livrosDaAPI","insereFavorito","id","alert","concat","children","placeholder","onBlur","evento","textoDigitado","target","value","resultadoPesquisa","filter","livro","nome","includes","map","onClick","src","alt"],"sources":["/home/beandy/Downloads/starbook/src/componentes/Pesquisa/index.js"],"sourcesContent":["import Input from '../Input'\nimport styled from 'styled-components'\nimport { useState } from 'react'\nimport { getLivros } from '../../servicos/livros'\nimport { useEffect } from 'react'\nimport { postFavorito } from '../../servicos/favoritos'\n\nconst PesquisaContainer = styled.section`\n    background-image: linear-gradient(90deg, #002F52 35%, #326589 165%);\n    color: #FFF;\n    text-align: center;\n    padding: 85px 0;\n    height: 470px;\n    width: 100%;\n`\n\nconst Titulo = styled.h2`\n    color: #FFF;\n    font-size: 36px;\n    text-align: center;\n    width: 100%;\n`\n\nconst Subtitulo = styled.h3`\n    font-size: 16px;\n    font-weight: 500;\n    margin-bottom: 40px;\n`\n\nconst Resultado = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-bottom: 20px;\n    cursor: pointer;\n\n    p {\n        width: 200px;\n    }\n\n    img {\n        width: 100px;\n    }\n\n    &:hover {\n        border: 1px solid white;\n    }\n`\n\nfunction Pesquisa() {\n    const [livrosPesquisados, setLivrosPesquisados] = useState([])\n    const [livros, setLivros] = useState([])\n\n    useEffect(() => {\n        fetchLivros()\n    }, [])\n\n    async function fetchLivros() {\n        const livrosDaAPI = await getLivros()\n        setLivros(livrosDaAPI)\n    }\n\n    async function insereFavorito(id) {\n        await postFavorito(id)\n        alert(`O livro de id: ${id} foi inserido com sucesso`)\n    }\n\n    return (\n        <PesquisaContainer>\n            <Titulo>Já sabe por onde começar?</Titulo>\n            <Subtitulo>Encontre seu livro em nossa estante.</Subtitulo>\n            <Input\n                placeholder=\"Escreva sua próxima leitura\"\n                onBlur={evento => {\n                    const textoDigitado = evento.target.value\n                    const resultadoPesquisa = livros.filter( livro => livro.nome.includes(textoDigitado))\n                    setLivrosPesquisados(resultadoPesquisa)\n                }}\n            />\n            { livrosPesquisados.map( livro => (\n                <Resultado onClick={() => insereFavorito(livro.id)}>\n                    <img src={livro.src} alt=''/>\n                    <p>{livro.nome}</p>\n                </Resultado>\n            ) ) }\n        </PesquisaContainer>\n    )\n}\n\nexport default Pesquisa"],"mappings":"4MAAA,MAAO,CAAAA,KAAK,KAAM,UAAU,CAC5B,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,uBAAuB,CACjD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,YAAY,KAAQ,0BAA0B,QAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,iBAAiB,CAAGT,MAAM,CAACU,OAAO,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,2LAOvC,CAED,KAAM,CAAAC,MAAM,CAAGb,MAAM,CAACc,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,6FAKvB,CAED,KAAM,CAAAI,SAAS,CAAGhB,MAAM,CAACiB,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAN,sBAAA,iFAI1B,CAED,KAAM,CAAAO,SAAS,CAAGnB,MAAM,CAACoB,GAAG,CAAAC,gBAAA,GAAAA,gBAAA,CAAAT,sBAAA,oRAkB3B,CAED,QAAS,CAAAU,QAAQA,CAAA,CAAG,CAChB,KAAM,CAACC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CAC9D,KAAM,CAACwB,MAAM,CAAEC,SAAS,CAAC,CAAGzB,QAAQ,CAAC,EAAE,CAAC,CAExCE,SAAS,CAAC,IAAM,CACZwB,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAA,WAAWA,CAAA,CAAG,CACzB,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAA1B,SAAS,CAAC,CAAC,CACrCwB,SAAS,CAACE,WAAW,CAAC,CAC1B,CAEA,cAAe,CAAAC,cAAcA,CAACC,EAAE,CAAE,CAC9B,KAAM,CAAA1B,YAAY,CAAC0B,EAAE,CAAC,CACtBC,KAAK,mBAAAC,MAAA,CAAmBF,EAAE,6BAA2B,CAAC,CAC1D,CAEA,mBACItB,KAAA,CAACC,iBAAiB,EAAAwB,QAAA,eACd3B,IAAA,CAACO,MAAM,EAAAoB,QAAA,CAAC,iCAAyB,CAAQ,CAAC,cAC1C3B,IAAA,CAACU,SAAS,EAAAiB,QAAA,CAAC,sCAAoC,CAAW,CAAC,cAC3D3B,IAAA,CAACP,KAAK,EACFmC,WAAW,CAAC,gCAA6B,CACzCC,MAAM,CAAEC,MAAM,EAAI,CACd,KAAM,CAAAC,aAAa,CAAGD,MAAM,CAACE,MAAM,CAACC,KAAK,CACzC,KAAM,CAAAC,iBAAiB,CAAGf,MAAM,CAACgB,MAAM,CAAEC,KAAK,EAAIA,KAAK,CAACC,IAAI,CAACC,QAAQ,CAACP,aAAa,CAAC,CAAC,CACrFb,oBAAoB,CAACgB,iBAAiB,CAAC,CAC3C,CAAE,CACL,CAAC,CACAjB,iBAAiB,CAACsB,GAAG,CAAEH,KAAK,eAC1BlC,KAAA,CAACW,SAAS,EAAC2B,OAAO,CAAEA,CAAA,GAAMjB,cAAc,CAACa,KAAK,CAACZ,EAAE,CAAE,CAAAG,QAAA,eAC/C3B,IAAA,QAAKyC,GAAG,CAAEL,KAAK,CAACK,GAAI,CAACC,GAAG,CAAC,EAAE,CAAC,CAAC,cAC7B1C,IAAA,MAAA2B,QAAA,CAAIS,KAAK,CAACC,IAAI,CAAI,CAAC,EACZ,CACb,CAAC,EACY,CAAC,CAE5B,CAEA,cAAe,CAAArB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}